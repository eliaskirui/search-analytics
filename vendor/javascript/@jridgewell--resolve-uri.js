var e={};(function(t,s){e=s()})(0,(function(){const e=/^[\w+.-]+:\/\//;const t=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/;const s=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;var r;(function(e){e[e.Empty=1]="Empty";e[e.Hash=2]="Hash";e[e.Query=3]="Query";e[e.RelativePath=4]="RelativePath";e[e.AbsolutePath=5]="AbsolutePath";e[e.SchemeRelative=6]="SchemeRelative";e[e.Absolute=7]="Absolute"})(r||(r={}));function isAbsoluteUrl(t){return e.test(t)}function isSchemeRelativeUrl(e){return e.startsWith("//")}function isAbsolutePath(e){return e.startsWith("/")}function isFileUrl(e){return e.startsWith("file:")}function isRelative(e){return/^[.?#]/.test(e)}function parseAbsoluteUrl(e){const s=t.exec(e);return makeUrl(s[1],s[2]||"",s[3],s[4]||"",s[5]||"/",s[6]||"",s[7]||"")}function parseFileUrl(e){const t=s.exec(e);const r=t[2];return makeUrl("file:","",t[1]||"","",isAbsolutePath(r)?r:"/"+r,t[3]||"",t[4]||"")}function makeUrl(e,t,s,a,l,i,n){return{scheme:e,user:t,host:s,port:a,path:l,query:i,hash:n,type:r.Absolute}}function parseUrl(e){if(isSchemeRelativeUrl(e)){const t=parseAbsoluteUrl("http:"+e);t.scheme="";t.type=r.SchemeRelative;return t}if(isAbsolutePath(e)){const t=parseAbsoluteUrl("http://foo.com"+e);t.scheme="";t.host="";t.type=r.AbsolutePath;return t}if(isFileUrl(e))return parseFileUrl(e);if(isAbsoluteUrl(e))return parseAbsoluteUrl(e);const t=parseAbsoluteUrl("http://foo.com/"+e);t.scheme="";t.host="";t.type=e?e.startsWith("?")?r.Query:e.startsWith("#")?r.Hash:r.RelativePath:r.Empty;return t}function stripPathFilename(e){if(e.endsWith("/.."))return e;const t=e.lastIndexOf("/");return e.slice(0,t+1)}function mergePaths(e,t){normalizePath(t,t.type);"/"===e.path?e.path=t.path:e.path=stripPathFilename(t.path)+e.path}function normalizePath(e,t){const s=t<=r.RelativePath;const a=e.path.split("/");let l=1;let i=0;let n=false;for(let e=1;e<a.length;e++){const t=a[e];if(t){n=false;if("."!==t)if(".."!==t){a[l++]=t;i++}else if(i){n=true;i--;l--}else s&&(a[l++]=t)}else n=true}let h="";for(let e=1;e<l;e++)h+="/"+a[e];(!h||n&&!h.endsWith("/.."))&&(h+="/");e.path=h}function resolve(e,t){if(!e&&!t)return"";const s=parseUrl(e);let a=s.type;if(t&&a!==r.Absolute){const e=parseUrl(t);const l=e.type;switch(a){case r.Empty:s.hash=e.hash;case r.Hash:s.query=e.query;case r.Query:case r.RelativePath:mergePaths(s,e);case r.AbsolutePath:s.user=e.user;s.host=e.host;s.port=e.port;case r.SchemeRelative:s.scheme=e.scheme}l>a&&(a=l)}normalizePath(s,a);const l=s.query+s.hash;switch(a){case r.Hash:case r.Query:return l;case r.RelativePath:{const r=s.path.slice(1);return r?isRelative(t||e)&&!isRelative(r)?"./"+r+l:r+l:l||"."}case r.AbsolutePath:return s.path+l;default:return s.scheme+"//"+s.user+s.host+s.port+s.path+l}}return resolve}));var t=e;export{t as default};

