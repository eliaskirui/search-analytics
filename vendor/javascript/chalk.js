import e from"escape-string-regexp";import t from"ansi-styles";import o from"supports-color";import s from"./templates.js";import l from"process";var n={};var r=l;const c=e;const i=t;const p=o.stdout;const a=s;const u="win32"===r.platform&&!(r.env.TERM||"").toLowerCase().startsWith("xterm");const h=["ansi","ansi","ansi256","ansi16m"];const y=new Set(["gray"]);const f=Object.create(null);function applyOptions(e,t){t=t||{};const o=p?p.level:0;e.level=void 0===t.level?o:t.level;e.enabled="enabled"in t?t.enabled:e.level>0}function Chalk(e){if(!this||!(this instanceof Chalk)||this.template){const t={};applyOptions(t,e);t.template=function(){const e=[].slice.call(arguments);return chalkTag.apply(null,[t.template].concat(e))};Object.setPrototypeOf(t,Chalk.prototype);Object.setPrototypeOf(t.template,t);t.template.constructor=Chalk;return t.template}applyOptions(this,e)}u&&(i.blue.open="[94m");for(const e of Object.keys(i)){i[e].closeRe=new RegExp(c(i[e].close),"g");f[e]={get(){const t=i[e];return build.call(this,this._styles?this._styles.concat(t):[t],this._empty,e)}}}f.visible={get(){return build.call(this,this._styles||[],true,"visible")}};i.color.closeRe=new RegExp(c(i.color.close),"g");for(const e of Object.keys(i.color.ansi))y.has(e)||(f[e]={get(){const t=this.level;return function(){const o=i.color[h[t]][e].apply(null,arguments);const s={open:o,close:i.color.close,closeRe:i.color.closeRe};return build.call(this,this._styles?this._styles.concat(s):[s],this._empty,e)}}});i.bgColor.closeRe=new RegExp(c(i.bgColor.close),"g");for(const e of Object.keys(i.bgColor.ansi)){if(y.has(e))continue;const t="bg"+e[0].toUpperCase()+e.slice(1);f[t]={get(){const t=this.level;return function(){const o=i.bgColor[h[t]][e].apply(null,arguments);const s={open:o,close:i.bgColor.close,closeRe:i.bgColor.closeRe};return build.call(this,this._styles?this._styles.concat(s):[s],this._empty,e)}}}}const b=Object.defineProperties(()=>{},f);function build(e,t,o){const builder=function(){return applyStyle.apply(builder,arguments)};builder._styles=e;builder._empty=t;const s=this;Object.defineProperty(builder,"level",{enumerable:true,get(){return s.level},set(e){s.level=e}});Object.defineProperty(builder,"enabled",{enumerable:true,get(){return s.enabled},set(e){s.enabled=e}});builder.hasGrey=this.hasGrey||"gray"===o||"grey"===o;builder.__proto__=b;return builder}function applyStyle(){const e=arguments;const t=e.length;let o=String(arguments[0]);if(0===t)return"";if(t>1)for(let s=1;s<t;s++)o+=" "+e[s];if(!this.enabled||this.level<=0||!o)return this._empty?"":o;const s=i.dim.open;u&&this.hasGrey&&(i.dim.open="");for(const e of this._styles.slice().reverse()){o=e.open+o.replace(e.closeRe,e.open)+e.close;o=o.replace(/\r?\n/g,`${e.close}$&${e.open}`)}i.dim.open=s;return o}function chalkTag(e,t){if(!Array.isArray(t))return[].slice.call(arguments,1).join(" ");const o=[].slice.call(arguments,2);const s=[t.raw[0]];for(let e=1;e<t.length;e++){s.push(String(o[e-1]).replace(/[{}\\]/g,"\\$&"));s.push(String(t.raw[e]))}return a(e,s.join(""))}Object.defineProperties(Chalk.prototype,f);n=Chalk();n.supportsColor=p;n.default=n;var g=n;const m=n.supportsColor;export default g;export{m as supportsColor};

