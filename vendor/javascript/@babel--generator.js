import*as e from"@jridgewell/gen-mapping";import*as t from"@jridgewell/trace-mapping";import o from"./printer.js";import"../_/ZfmAit5Z.js";import"@babel/types";import"jsesc";import"./generators/jsx.js";var i=e;try{"default"in e&&(i=e.default)}catch(e){}var n=t;try{"default"in t&&(n=t.default)}catch(e){}var r={};Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var a=i;var s=n;class SourceMap{constructor(e,t){var o;this._map=void 0;this._rawMappings=void 0;this._sourceFileName=void 0;this._lastGenLine=0;this._lastSourceLine=0;this._lastSourceColumn=0;this._inputMap=void 0;const i=this._map=new a.GenMapping({sourceRoot:e.sourceRoot});this._sourceFileName=(o=e.sourceFileName)==null?void 0:o.replace(/\\/g,"/");this._rawMappings=void 0;if(e.inputSourceMap){this._inputMap=new s.TraceMap(e.inputSourceMap);const t=this._inputMap.resolvedSources;if(t.length)for(let e=0;e<t.length;e++){var n;(0,a.setSourceContent)(i,t[e],(n=this._inputMap.sourcesContent)==null?void 0:n[e])}}if(typeof t!=="string"||e.inputSourceMap){if(typeof t==="object")for(const e of Object.keys(t))(0,a.setSourceContent)(i,e.replace(/\\/g,"/"),t[e])}else(0,a.setSourceContent)(i,this._sourceFileName,t)}get(){return(0,a.toEncodedMap)(this._map)}getDecoded(){return(0,a.toDecodedMap)(this._map)}getRawMappings(){return this._rawMappings||(this._rawMappings=(0,a.allMappings)(this._map))}mark(e,t,o,i,n,r){var l;this._rawMappings=void 0;let u;if(t!=null)if(this._inputMap){u=(0,s.originalPositionFor)(this._inputMap,{line:t,column:o});if(!u.name&&n){const e=(0,s.originalPositionFor)(this._inputMap,n);e.name&&(i=e.name)}}else u={source:(r==null?void 0:r.replace(/\\/g,"/"))||this._sourceFileName,line:t,column:o};(0,a.maybeAddMapping)(this._map,{name:i,generated:e,source:(l=u)==null?void 0:l.source,original:u})}}r.default=SourceMap;var l={};Object.defineProperty(l,"__esModule",{value:true});l.default=generate;var u=r;var c=o;function normalizeOptions(e,t){var o;const i={auxiliaryCommentBefore:t.auxiliaryCommentBefore,auxiliaryCommentAfter:t.auxiliaryCommentAfter,shouldPrintComment:t.shouldPrintComment,retainLines:t.retainLines,retainFunctionParens:t.retainFunctionParens,comments:t.comments==null||t.comments,compact:t.compact,minified:t.minified,concise:t.concise,indent:{adjustMultilineComment:true,style:"  "},jsescOption:Object.assign({quotes:"double",wrap:true,minimal:false},t.jsescOption),recordAndTupleSyntaxType:(o=t.recordAndTupleSyntaxType)!=null?o:"hash",topicToken:t.topicToken,importAttributesKeyword:t.importAttributesKeyword};i.decoratorsBeforeExport=t.decoratorsBeforeExport;i.jsescOption.json=t.jsonCompatibleStrings;if(i.minified){i.compact=true;i.shouldPrintComment=i.shouldPrintComment||(()=>i.comments)}else i.shouldPrintComment=i.shouldPrintComment||(e=>i.comments||e.includes("@license")||e.includes("@preserve"));if(i.compact==="auto"){i.compact=typeof e==="string"&&e.length>5e5;i.compact&&console.error(`[BABEL] Note: The code generator has deoptimised the styling of ${t.filename} as it exceeds the max of 500KB.`)}i.compact&&(i.indent.adjustMultilineComment=false);const{auxiliaryCommentBefore:n,auxiliaryCommentAfter:r,shouldPrintComment:a}=i;n&&!a(n)&&(i.auxiliaryCommentBefore=void 0);r&&!a(r)&&(i.auxiliaryCommentAfter=void 0);return i}l.CodeGenerator=class CodeGenerator{constructor(e,t={},o){this._ast=void 0;this._format=void 0;this._map=void 0;this._ast=e;this._format=normalizeOptions(o,t);this._map=t.sourceMaps?new u.default(t,o):null}generate(){const e=new c.default(this._format,this._map);return e.generate(this._ast)}};function generate(e,t={},o){const i=normalizeOptions(o,t);const n=t.sourceMaps?new u.default(t,o):null;const r=new c.default(i,n);return r.generate(e)}const m=l.__esModule,p=l.CodeGenerator;export{p as CodeGenerator,m as __esModule,l as default};

