var e={};Object.defineProperty(e,"__esModule",{value:true});e.readCodePoint=readCodePoint;e.readInt=readInt;e.readStringContents=readStringContents;var t=function isDigit(e){return e>=48&&e<=57};const n={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])};const r={bin:e=>e===48||e===49,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function readStringContents(e,t,n,r,o,a){const s=n;const c=r;const i=o;let l="";let d=null;let u=n;const{length:f}=t;for(;;){if(n>=f){a.unterminated(s,c,i);l+=t.slice(u,n);break}const C=t.charCodeAt(n);if(isStringEnd(e,C,t,n)){l+=t.slice(u,n);break}if(C===92){l+=t.slice(u,n);const s=readEscapedChar(t,n,r,o,e==="template",a);s.ch!==null||d?l+=s.ch:d={pos:n,lineStart:r,curLine:o};({pos:n,lineStart:r,curLine:o}=s);u=n}else if(C===8232||C===8233){++n;++o;r=n}else if(C===10||C===13)if(e==="template"){l+=t.slice(u,n)+"\n";++n;C===13&&t.charCodeAt(n)===10&&++n;++o;u=r=n}else a.unterminated(s,c,i);else++n}return{pos:n,str:l,firstInvalidLoc:d,lineStart:r,curLine:o,containsInvalid:!!d}}function isStringEnd(e,t,n,r){return e==="template"?t===96||t===36&&n.charCodeAt(r+1)===123:t===(e==="double"?34:39)}function readEscapedChar(e,t,n,r,o,a){const s=!o;t++;const res=e=>({pos:t,ch:e,lineStart:n,curLine:r});const c=e.charCodeAt(t++);switch(c){case 110:return res("\n");case 114:return res("\r");case 120:{let o;({code:o,pos:t}=readHexChar(e,t,n,r,2,false,s,a));return res(o===null?null:String.fromCharCode(o))}case 117:{let o;({code:o,pos:t}=readCodePoint(e,t,n,r,s,a));return res(o===null?null:String.fromCodePoint(o))}case 116:return res("\t");case 98:return res("\b");case 118:return res("\v");case 102:return res("\f");case 13:e.charCodeAt(t)===10&&++t;case 10:n=t;++r;case 8232:case 8233:return res("");case 56:case 57:if(o)return res(null);a.strictNumericEscape(t-1,n,r);default:if(c>=48&&c<=55){const s=t-1;const c=e.slice(s,t+2).match(/^[0-7]+/);let i=c[0];let l=parseInt(i,8);if(l>255){i=i.slice(0,-1);l=parseInt(i,8)}t+=i.length-1;const d=e.charCodeAt(t);if(i!=="0"||d===56||d===57){if(o)return res(null);a.strictNumericEscape(s,n,r)}return res(String.fromCharCode(l))}return res(String.fromCharCode(c))}}function readHexChar(e,t,n,r,o,a,s,c){const i=t;let l;({n:l,pos:t}=readInt(e,t,n,r,16,o,a,false,c,!s));l===null&&(s?c.invalidEscapeSequence(i,n,r):t=i-1);return{code:l,pos:t}}function readInt(e,o,a,s,c,i,l,d,u,f){const C=o;const p=c===16?n.hex:n.decBinOct;const h=c===16?r.hex:c===10?r.dec:c===8?r.oct:r.bin;let S=false;let g=0;for(let n=0,r=i==null?Infinity:i;n<r;++n){const n=e.charCodeAt(o);let r;if(n!==95||d==="bail"){r=n>=97?n-97+10:n>=65?n-65+10:t(n)?n-48:Infinity;if(r>=c){if(r<=9&&f)return{n:null,pos:o};if(r<=9&&u.invalidDigit(o,a,s,c))r=0;else{if(!l)break;r=0;S=true}}++o;g=g*c+r}else{const t=e.charCodeAt(o-1);const n=e.charCodeAt(o+1);if(d){if(Number.isNaN(n)||!h(n)||p.has(t)||p.has(n)){if(f)return{n:null,pos:o};u.unexpectedNumericSeparator(o,a,s)}}else{if(f)return{n:null,pos:o};u.numericSeparatorInEscapeSequence(o,a,s)}++o}}return o===C||i!=null&&o-C!==i||S?{n:null,pos:o}:{n:g,pos:o}}function readCodePoint(e,t,n,r,o,a){const s=e.charCodeAt(t);let c;if(s===123){++t;({code:c,pos:t}=readHexChar(e,t,n,r,e.indexOf("}",t)-t,true,o,a));++t;if(c!==null&&c>1114111){if(!o)return{code:null,pos:t};a.invalidCodePoint(t,n,r)}}else({code:c,pos:t}=readHexChar(e,t,n,r,4,false,o,a));return{code:c,pos:t}}const o=e.__esModule;const a=e.readCodePoint,s=e.readInt,c=e.readStringContents;export{o as __esModule,e as default,a as readCodePoint,s as readInt,c as readStringContents};

